<!DOCTYPE html>
<html lang="tr">

<head>
    <!-- BakÄ±m Modu Sistemi (En Tepede) -->
    <style id="bakim-blocking-style">
        html {
            display: none !important;
        }
    </style>
    <script src="../../bakim-ayari.js?v=1766778190"></script>
    <script>
        (function () {
            // BakÄ±m sayfasÄ± ise kontrol etme
            if (window.location.pathname.includes('bakimda.html')) return;

            const isAuthorized = localStorage.getItem('admin_session') ||
                localStorage.getItem('adminToken') ||
                localStorage.getItem('token');
            const urlParams = new URLSearchParams(window.location.search);
            const hasBypass = urlParams.has('lidareyn_ozel_girisKask12121O');

            if (hasBypass) {
                localStorage.setItem('admin_session', 'active_' + Date.now());
                const cleanUrl = window.location.pathname; 
                window.history.replaceState(null, '', cleanUrl); // URL'i temizle
                document.getElementById('bakim-blocking-style').remove();
                return;
            }

            if (window.BAKIM_MODU_AKTIF === true && !isAuthorized) {
                window.location.href = '../../bakimda.html';
                return;
            }

            // EÄŸer bakÄ±mda deÄŸilse veya yetkiliyse sayfayÄ± gÃ¶ster
            const style = document.getElementById('bakim-blocking-style');
            if (style) style.remove();
            console.log('ðŸ”§ BakÄ±m Modu: EriÅŸim onaylandÄ±.');
        })();
    </script>

        html {
            display: none !important;
        }
    </style>
    <script>
        (function () {
            // BakÄ±m sayfasÄ± ise kontrol etme
            if (window.location.pathname.includes('bakimda.html')) return;

            const isAuthorized = localStorage.getItem('admin_session') ||
                localStorage.getItem('adminToken') ||
                localStorage.getItem('token');
            const urlParams = new URLSearchParams(window.location.search);

            if (hasBypass) {
                localStorage.setItem('admin_session', 'active_' + Date.now());
                const cleanUrl = window.location.pathname; 
                window.history.replaceState(null, '', cleanUrl); // URL'i temizle
                return;
            }

                window.location.href = '../../bakimda.html';
                return;
            }

            // EÄŸer bakÄ±mda deÄŸilse veya yetkiliyse sayfayÄ± gÃ¶ster
            if (style) style.remove();
            console.log('ðŸ”§ BakÄ±m Modu: EriÅŸim onaylandÄ±.');
        })();
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Yeni Gelenler - Galata Ã‡arÅŸÄ±</title>
    <meta name="description" content="Galata Ã‡arÅŸÄ±'e yeni eklenen en son Ã¼rÃ¼nleri keÅŸfedin.">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css?v=1766780148">
    <link rel="stylesheet" href="mobile.css?v=1766780148">
    <link rel="stylesheet" href="mega_menu_styles.css?v=1766780148">
    <link rel="stylesheet" href="card-actions.css">
    <link rel="icon" type="image/png" href="../../gorseller/logo.png">
    <meta property="og:image" content="../../gorseller/sosyal_medya_gorseli.png">
</head>

<body>
    <!-- Modern Premium Header (Solid White) -->
        <!-- Modern Premium Header (Solid White) -->
    <header class="main-header" role="banner">
        <div class="header-container">
            <!-- Navigation Menu (Left Side) -->
            <nav class="main-nav" role="navigation" aria-label="Ana navigasyon">
                <ul class="nav-menu" role="menubar">
                    <li class="nav-item-dropdown" role="none">
                        <a href="index.html#kategoriler" class="nav-link categories-link" role="menuitem"
                            aria-haspopup="true" aria-expanded="false">
                            <i class="fa-solid fa-bars" aria-hidden="true"></i>
                            TÃ¼m Kategoriler
                        </a>
                    </li>
                    <li><a href="index.html#flowing-menu-root" class="nav-link">TÃ¼m Markalar</a></li>
                    <li><a href="yeni-gelenler.html" class="nav-link">Yeni Gelenler</a></li>
                    <li><a href="populer.html" class="nav-link">PopÃ¼ler ÃœrÃ¼nler</a></li>
                </ul>
            </nav>

            <!-- Logo (Centered) -->
            <div class="logo">
                <a href="index.html">Galata Ã‡arÅŸÄ±</a>
            </div>

            <!-- Header Icons (Right Side) -->
            <div class="header-icons">
                <div class="search-container" role="search" id="search-container">
                    <input type="text" id="header-search-input" class="search-input" placeholder="ÃœrÃ¼n ara..."
                        aria-label="ÃœrÃ¼n arama" autocomplete="off" onfocus="document.getElementById('search-container').classList.add('active')">
                    <button class="icon-btn search-btn" aria-label="Arama yap" type="button" onclick="var sc = document.getElementById('search-container'); sc.classList.toggle('active'); if(sc.classList.contains('active')) document.getElementById('header-search-input').focus();"><i
                            class="fa-solid fa-magnifying-glass" aria-hidden="true"></i></button>
                </div>
                <div class="user-menu-container">
                    <button class="icon-btn user-btn" aria-label="HesabÄ±m">
                        <i class="fa-regular fa-user"></i>
                        <span class="icon-label" id="user-label">GiriÅŸ Yap</span>
                    </button>
                    <!-- User Dropdown -->
                    <div class="user-dropdown">
                        <a href="giris-yap.html" class="dropdown-item"><i class="fa-solid fa-right-to-bracket"></i>
                            GiriÅŸ Yap</a>
                        <a href="giris-yap.html?tab=register" class="dropdown-item"><i
                                class="fa-solid fa-user-plus"></i> Ãœye Ol</a>
                    </div>
                </div>
                <button class="icon-btn favorites-btn" aria-label="Favorilerim"
                    onclick="window.location.href='favoriler.html'">
                    <i class="fa-regular fa-heart"></i>
                    <span class="icon-label">Favorilerim</span>
                </button>
                <button class="icon-btn cart-btn" aria-label="Sepetim" onclick="window.location.href='sepet.html'">
                    <i class="fa-solid fa-cart-shopping"></i>
                    <span class="cart-count">0</span>
                    <span class="icon-label">Sepetim</span>
                </button>
            </div>

            <!-- Mobile Menu Toggle -->
            <button class="mobile-menu-toggle" aria-label="MenÃ¼">
                <i class="fa-solid fa-bars"></i>
            </button>
        </div>
    </header>

    <div class="container" style="margin-top: 30px; margin-bottom: 20px;">
        <h1 class="page-main-title">
            YENÄ° GELENLER</h1>
    </div>

    <main class="main-content">
        <div id="products-container" class="container"></div>
    </main>

    <!-- Product Grid Styles -->
    <style>
        .products-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            grid-template-rows: repeat(8, auto);
            gap: 25px;
            margin: 40px 0;
            padding: 0 20px;
            min-height: 3200px;
        }

        .product-card {
            background: #fff;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            position: relative;
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
        }

        .product-image {
            width: 100%;
            height: 320px;
            object-fit: cover;
            background: #f5f5f5;
        }

        .product-info {
            padding: 20px;
        }

        .product-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: #111;
            margin-bottom: 12px;
            min-height: 52px;
            line-height: 1.4;
        }

        .product-price {
            font-size: 1.3rem;
            font-weight: 700;
            color: #111;
            margin-bottom: 10px;
        }
    </style>

    <!-- Products Data -->
    <script src="products-data.js"></script>

    <!-- Product Grid Script -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const container = document.getElementById('products-container');
            let products = window.productsData || generateSampleProducts();

            // Ensure we have exactly 48 products (6 columns x 8 rows)
            if (products.length < 48) {
                // Repeat products to fill 48 slots
                const originalProducts = [...products];
                while (products.length < 48) {
                    products = [...products, ...originalProducts];
                }
                products = products.slice(0, 48);
            } else if (products.length > 48) {
                // Take only first 48 products
                products = products.slice(0, 48);
            }

            // Create grid
            const grid = document.createElement('div');
            grid.className = 'products-grid';

            products.forEach(product => {
                const card = createProductCard(product);
                grid.appendChild(card);
            });

            container.appendChild(grid);
        });

        function createProductCard(product) {
            const card = document.createElement('a');
            card.href = `urun-detay.html?id=${product.id}`;
            card.className = 'product-card';

            card.innerHTML = `
                <div class="card-actions">
                    <button class="action-btn" onclick="handleToggleFavorite(event, ${product.id})" title="Favorilere Ekle">
                        <i class="fa-regular fa-heart"></i>
                    </button>
                    <button class="action-btn" onclick="handleAddToCart(event, ${product.id})" title="Sepete Ekle">
                        <i class="fa-solid fa-cart-shopping"></i>
                    </button>
                </div>
                <img src="${product.image}" alt="${product.name}" class="product-image" loading="lazy">
                <div class="product-info">
                    <div class="product-name">${product.name}</div>
                    <div class="product-price">${product.price}</div>
                </div>
            `;

            return card;
        }

        function handleAddToCart(event, productId) {
            event.preventDefault();
            event.stopPropagation();

            const products = window.productsData || [];
            const product = products.find(p => p.id === productId);

            if (product && typeof window.addToCart === 'function') {
                window.addToCart({
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    image: product.image,
                    variant: 'Standart'
                });
            }
        }

        function handleToggleFavorite(event, productId) {
            event.preventDefault();
            event.stopPropagation();

            const products = window.productsData || [];
            const product = products.find(p => p.id === productId);

            if (product && typeof window.toggleFavorite === 'function') {
                window.toggleFavorite({
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    image: product.image,
                    variant: 'Standart'
                });
            }
        }

        function generateSampleProducts() {
            const products = [];
            const categories = ['Elektrikli El Aletleri', 'Ã–lÃ§me Aletleri', 'El Aletleri', 'BaÄŸlantÄ± ElemanlarÄ±'];

            for (let i = 1; i <= 48; i++) {
                products.push({
                    id: i,
                    name: `${categories[i % categories.length]} - ÃœrÃ¼n ${i}`,
                    price: `${(Math.random() * 500 + 100).toFixed(2)} TL`,
                    image: `https://via.placeholder.com/320x320/111111/ffffff?text=Urun+${i}`,
                    variant: 'Standart'
                });
            }
            return products;
        }
    </script>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="footer-container">
            <!-- Main Footer Grid (All Columns in Gray Box) -->
            <div class="footer-grid-wrapper">
                <div class="footer-grid">
                    <!-- Kurumsal Column -->
                    <div class="footer-column">
                        <h3 class="footer-title">Kurumsal</h3>
                        <ul class="footer-links">
                            <li><a href="siparis-takip.html">SipariÅŸ Takip</a></li>
                            <li><a href="iletisim.html">Ä°letiÅŸim</a></li>
                            <li><a href="kvkk.html">KVKK / Gizlilik PolitikasÄ±</a></li>
                            <li><a href="mesafeli-satis.html">Mesafeli SatÄ±ÅŸ SÃ¶zleÅŸmesi</a></li>
                            <li><a href="iade-degisim.html">Ä°ade & DeÄŸiÅŸim KoÅŸullarÄ±</a></li>
                            <li><a href="kargo-teslimat.html">Kargo & Teslimat</a></li>
                        </ul>
                    </div>



                    <!-- SÃ¶zleÅŸmeler Column -->
                    <div class="footer-column">
                        <h3 class="footer-title">SÃ¶zleÅŸmeler</h3>
                        <ul class="footer-links">
                            <li><a href="mesafeli-satis-sozlesmesi.html">Mesafeli SatÄ±ÅŸ SÃ¶zleÅŸmesi</a></li>
                            <li><a href="gizlilik-guvenlik.html">Gizlilik ve GÃ¼venlik</a></li>
                            <li><a href="odeme-teslimat.html">Ã–deme ve Teslimat</a></li>
                            <li><a href="garanti-sartlari.html">Garanti ÅžartlarÄ±</a></li>
                            <li><a href="iade-iptal.html">Ä°ade ve Ä°ptal ÅžartlarÄ±</a></li>
                            <li><a href="havale-bildirim.html">Havale Bildirim Formu</a></li>
                        </ul>
                    </div>

                    <!-- YardÄ±m Column -->
                    <div class="footer-column">
                        <h3 class="footer-title">YardÄ±m</h3>
                        <ul class="footer-links">
                            <li><a href="siparis-takibi.html">SipariÅŸ Takibi</a></li>
                            <li><a href="yeni-uyelik.html">Yeni Ãœyelik</a></li>
                            <li><a href="uye-giris.html">Ãœye GiriÅŸ</a></li>
                            <li><a href="sifremi-unuttum.html">Åžifremi Unuttum</a></li>
                            <li><a href="sss.html">SÄ±kÃ§a Sorulan Sorular</a></li>
                            <li><a href="sepet.html">Sepetiniz</a></li>
                        </ul>
                    </div>

                    <!-- MÃ¼ÅŸteri Hizmetleri Column -->
                    <div class="footer-column">
                        <h3 class="footer-title">MÃ¼ÅŸteri Hizmetleri</h3>
                        <ul class="footer-links">
                            <li>
                                <i class="fa-solid fa-envelope"></i>
                                <a href="mailto:destek@galatacarsi.com">destek@galatacarsi.com</a>
                            </li>
                            <li>
                                <i class="fa-brands fa-whatsapp"></i>
                                <a href="https://wa.me/905551234567">+90 555 123 45 67</a>
                            </li>
                            <li>
                                <i class="fa-solid fa-phone"></i>
                                <a href="tel:+905551234567">+90 555 123 45 67</a>
                            </li>
                            <li class="working-hours">
                                <i class="fa-solid fa-clock"></i>
                                <span>Ã‡alÄ±ÅŸma Saatleri: Hafta iÃ§i 09:00 - 18:00</span>
                            </li>
                        </ul>
                    </div>

                    <!-- GÃ¼venli Ã–deme Column -->
                    <div class="footer-column">
                        <h3 class="footer-title">GÃ¼venli Ã–deme</h3>
                        <div class="payment-logos">
                            <div class="payment-logo">
                                <i class="fa-brands fa-cc-visa"></i>
                                <span>Visa</span>
                            </div>
                            <div class="payment-logo">
                                <i class="fa-brands fa-cc-mastercard"></i>
                                <span>Mastercard</span>
                            </div>
                            <div class="payment-logo">
                                <i class="fa-solid fa-credit-card"></i>
                                <span>Troy</span>
                            </div>
                            <div class="payment-logo">
                                <i class="fa-brands fa-cc-amex"></i>
                                <span>Amex</span>
                            </div>
                        </div>
                        <p class="payment-note">TÃ¼m Ã¶demeleriniz SSL sertifikasÄ± ile gÃ¼vence altÄ±ndadÄ±r.</p>
                    </div>
                </div>
            </div>

            <!-- Footer Bottom Section -->

        </div>
    </footer>

    <div class="sidebar-overlay"></div>
    <div class="sidebar favorites-sidebar">
        <div class="sidebar-header">
            <h3>Favori ÃœrÃ¼nlerim</h3>
            <button class="close-sidebar"><i class="fa-solid fa-xmark"></i></button>
        </div>
        <div class="sidebar-content" id="favorites-content"></div>
    </div>
    <div class="sidebar cart-sidebar">
        <div class="sidebar-header">
            <h3>Sepetim <span class="cart-badge">0</span></h3>
            <button class="close-sidebar"><i class="fa-solid fa-xmark"></i></button>
        </div>
        <div class="sidebar-content" id="cart-content"></div>
        <div class="sidebar-footer">
            <div class="cart-total"><span>Ara Toplam:</span><span class="total-amount">0.00 TL</span></div>
            <button class="btn btn-primary btn-block">Sepete Git</button>
            <button class="btn btn-secondary btn-block">Ã–deme Yap</button>
        </div>
    </div>
    <div class="user-dropdown">
        <div class="user-dropdown-content">
            <a href="#" class="dropdown-item">GiriÅŸ Yap</a>
            <a href="#" class="dropdown-item">Ãœye Ol</a>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="categories-data.js"></script>
    <script src="cart-logic.js"></script>
    <script src="config.js"></script>
    <script src="auth.js"></script>
    <script src="cookie-consent.js"></script>
    <!-- Mobile Search Overlay -->
    <div id="mobile-search-overlay" class="mobile-search-overlay">
        <div class="mobile-search-content">
            <button class="close-search-btn" aria-label="Kapat">
                <i class="fa-solid fa-xmark"></i>
            </button>
            <form action="arama.html" method="GET" class="mobile-search-form">
                <input type="text" name="q" class="mobile-search-input" placeholder="ÃœrÃ¼n, kategori veya marka ara..."
                    autocomplete="off">
                <button type="submit" class="mobile-search-submit">
                    <i class="fa-solid fa-magnifying-glass"></i>
                </button>
            </form>
        </div>
    </div>

    <script src="mobile-menu.js"></script>
    <script src="categories-data.js"></script>
    <script src="products-data.js"></script>
    <script src="config.js"></script>
    <script src="auth.js"></script>
    <script src="script.js"></script>
    <script src="live-search.js"></script>
</body>

</html>