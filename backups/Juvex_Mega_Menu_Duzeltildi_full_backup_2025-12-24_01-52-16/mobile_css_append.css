/* --- MOBILE MEGA MENU (ACCORDION) --- */

/* Reveal the container when active */
body.mobile-menu-active .nav-item-dropdown {
    display: block !important;
}

/* Position the Mega Menu as a full-screen drawer */
body.mobile-menu-active .mega-menu {
    display: block !important;
    position: fixed !important;
    top: 60px !important;
    /* Below the main header */
    left: 0 !important;
    width: 100% !important;
    height: calc(100vh - 60px) !important;
    background: #fff !important;
    z-index: 2000 !important;
    overflow-y: auto !important;
    box-shadow: none !important;
    padding: 0 !important;
    opacity: 1 !important;
    visibility: visible !important;
    transform: none !important;
}

/* List Layout */
body.mobile-menu-active .mega-menu-list {
    display: flex !important;
    flex-direction: column !important;
    width: 100% !important;
    height: auto !important;
    border-right: none !important;
    min-height: auto !important;
}

/* List Items */
body.mobile-menu-active .mega-menu-list>li {
    width: 100% !important;
    border-bottom: 1px solid #f0f0f0 !important;
    background: #fff !important;
}

body.mobile-menu-active .mega-menu-list>li>a {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    padding: 15px 20px !important;
    width: 100% !important;
    background: #fff !important;
    color: #333 !important;
    font-size: 14px !important;
    font-weight: 600 !important;
    height: auto !important;
}

/* Restore Chevron for Mobile */
body.mobile-menu-active .mega-menu-list>li>a>i.fa-chevron-right {
    display: block !important;
    font-size: 12px !important;
    transition: transform 0.3s ease;
}

/* Rotate chevron when active */
body.mobile-menu-active .mega-menu-list>li.active>a>i.fa-chevron-right {
    transform: rotate(90deg);
}

/* Sub Menu (Hidden by default, Static position for accordion) */
body.mobile-menu-active .sub-menu {
    display: none;
    /* JS toggles this via .active class on parent li */
    position: static !important;
    top: auto !important;
    left: auto !important;
    width: 100% !important;
    min-height: unset !important;
    height: auto !important;
    box-shadow: none !important;
    background: #f9f9f9 !important;
    padding: 10px 0 !important;
    opacity: 1 !important;
    visibility: visible !important;
}

/* Show Sub Menu when Active */
body.mobile-menu-active .mega-menu-list>li.active .sub-menu {
    display: block !important;
}

/* Sub Menu Columns */
body.mobile-menu-active .sub-menu-column {
    width: 100% !important;
    padding: 0 20px 15px 20px !important;
    display: block !important;
}

body.mobile-menu-active .sub-menu-column h4 {
    font-size: 13px !important;
    color: #000 !important;
    margin-bottom: 10px !important;
    margin-top: 10px !important;
    border-bottom: 1px dashed #ddd;
    /* Visual separator */
    padding-bottom: 5px;
}

body.mobile-menu-active .sub-menu-column ul li {
    margin-bottom: 8px !important;
}

body.mobile-menu-active .sub-menu-column ul li a {
    font-size: 13px !important;
    color: #555 !important;
    padding: 5px 0 !important;
}

/* Disable body scroll when menu is open */
body.mobile-menu-active {
    overflow: hidden !important;
}

/* Ensure existing menu item left structure works */
body.mobile-menu-active .menu-item-left {
    display: flex !important;
    align-items: center !important;
    gap: 10px !important;
}